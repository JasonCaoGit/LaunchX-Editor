{"version":3,"sources":["vs/editor/contrib/inlineCompletions/browser/view/inlineEdits/sideBySideDiff.ts"],"names":[],"mappings":"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","file":"sideBySideDiff.js","sourceRoot":"file:///Users/kw/github/monaco-editor-core/out-editor-esm","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, getWindow } from '../../../../../../base/browser/dom.js';\nimport { ActionViewItem } from '../../../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { IAction } from '../../../../../../base/common/actions.js';\nimport { Color } from '../../../../../../base/common/color.js';\nimport { structuralEquals } from '../../../../../../base/common/equals.js';\nimport { Disposable } from '../../../../../../base/common/lifecycle.js';\nimport { IObservable, IReader, autorun, constObservable, derived, derivedObservableWithCache, derivedOpts, observableFromEvent } from '../../../../../../base/common/observable.js';\nimport { MenuId, MenuItemAction } from '../../../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../../../platform/commands/common/commands.js';\nimport { IInstantiationService } from '../../../../../../platform/instantiation/common/instantiation.js';\nimport { diffInserted, diffInsertedLine, diffRemoved, editorHoverBorder } from '../../../../../../platform/theme/common/colorRegistry.js';\nimport { registerColor, transparent } from '../../../../../../platform/theme/common/colorUtils.js';\nimport { IThemeService } from '../../../../../../platform/theme/common/themeService.js';\nimport { ICodeEditor } from '../../../../../browser/editorBrowser.js';\nimport { observableCodeEditor } from '../../../../../browser/observableCodeEditor.js';\nimport { Point } from '../../../../../browser/point.js';\nimport { EmbeddedCodeEditorWidget } from '../../../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport { EditorOption } from '../../../../../common/config/editorOptions.js';\nimport { LineRange } from '../../../../../common/core/lineRange.js';\nimport { OffsetRange } from '../../../../../common/core/offsetRange.js';\nimport { Position } from '../../../../../common/core/position.js';\nimport { Range } from '../../../../../common/core/range.js';\nimport { Command } from '../../../../../common/languages.js';\nimport { ITextModel } from '../../../../../common/model.js';\nimport { StickyScrollController } from '../../../../stickyScroll/browser/stickyScrollController.js';\nimport { InlineCompletionContextKeys } from '../../controller/inlineCompletionContextKeys.js';\nimport { CustomizedMenuWorkbenchToolBar } from '../../hintsWidget/inlineCompletionsHintsWidget.js';\nimport { PathBuilder, StatusBarViewItem, createRectangle, getOffsetForPos, mapOutFalsy, maxContentWidthInRange, n } from './utils.js';\nimport { InlineEditWithChanges } from './viewAndDiffProducer.js';\nimport { localize } from '../../../../../../nls.js';\n\nexport const originalBackgroundColor = registerColor(\n\t'inlineEdit.originalBackground',\n\tColor.transparent,\n\tlocalize('inlineEdit.originalBackground', 'Background color for the original text in inline edits.'),\n\ttrue\n);\nexport const modifiedBackgroundColor = registerColor(\n\t'inlineEdit.modifiedBackground',\n\tColor.transparent,\n\tlocalize('inlineEdit.modifiedBackground', 'Background color for the modified text in inline edits.'),\n\ttrue\n);\n\nexport const originalChangedLineBackgroundColor = registerColor(\n\t'inlineEdit.originalChangedLineBackground',\n\tColor.transparent,\n\tlocalize('inlineEdit.originalChangedLineBackground', 'Background color for the changed lines in the original text of inline edits.'),\n\ttrue\n);\n\nexport const originalChangedTextOverlayColor = registerColor(\n\t'inlineEdit.originalChangedTextBackground',\n\tdiffRemoved,\n\tlocalize('inlineEdit.originalChangedTextBackground', 'Overlay color for the changed text in the original text of inline edits.'),\n\ttrue\n);\n\nexport const modifiedChangedLineBackgroundColor = registerColor(\n\t'inlineEdit.modifiedChangedLineBackground',\n\t{\n\t\tlight: transparent(diffInsertedLine, 0.5),\n\t\tdark: transparent(diffInsertedLine, 0.5),\n\t\thcDark: diffInsertedLine,\n\t\thcLight: diffInsertedLine\n\t},\n\tlocalize('inlineEdit.modifiedChangedLineBackground', 'Background color for the changed lines in the modified text of inline edits.'),\n\ttrue\n);\n\nexport const modifiedChangedTextOverlayColor = registerColor(\n\t'inlineEdit.modifiedChangedTextBackground',\n\tdiffInserted,\n\tlocalize('inlineEdit.modifiedChangedTextBackground', 'Overlay color for the changed text in the modified text of inline edits.'),\n\ttrue\n);\nexport const originalBorder = registerColor(\n\t'inlineEdit.originalBorder',\n\t{\n\t\tlight: editorHoverBorder,\n\t\tdark: editorHoverBorder,\n\t\thcDark: editorHoverBorder,\n\t\thcLight: editorHoverBorder\n\t},\n\tlocalize('inlineEdit.originalBorder', 'Border color for the original text in inline edits.')\n);\n\nexport const modifiedBorder = registerColor(\n\t'inlineEdit.modifiedBorder',\n\t{\n\t\tlight: editorHoverBorder,\n\t\tdark: editorHoverBorder,\n\t\thcDark: editorHoverBorder,\n\t\thcLight: editorHoverBorder\n\t},\n\tlocalize('inlineEdit.modifiedBorder', 'Border color for the modified text in inline edits.')\n);\n\nexport interface IInlineEditsView {\n\tisHovered: IObservable<boolean>;\n}\n\nconst PADDING = 4;\nconst ENABLE_OVERFLOW = false;\n\nexport class InlineEditsSideBySideDiff extends Disposable implements IInlineEditsView {\n\n\t// This is an approximation and should be improved by using the real parameters used bellow\n\tstatic fitsInsideViewport(editor: ICodeEditor, edit: InlineEditWithChanges, reader: IReader): boolean {\n\t\tconst editorObs = observableCodeEditor(editor);\n\t\tconst editorWidth = editorObs.layoutInfoWidth.read(reader);\n\t\tconst editorContentLeft = editorObs.layoutInfoContentLeft.read(reader);\n\t\tconst editorVerticalScrollBar = editor.getLayoutInfo().verticalScrollbarWidth;\n\t\tconst w = editor.getOption(EditorOption.fontInfo).typicalHalfwidthCharacterWidth;\n\n\t\tconst maxOriginalContent = maxContentWidthInRange(editorObs, edit.originalLineRange, undefined/* do not reconsider on each layout info change */);\n\t\tconst maxModifiedContent = edit.lineEdit.newLines.reduce((max, line) => Math.max(max, line.length * w), 0);\n\t\tconst endOfEditorPadding = 20; // padding after last line of editor\n\t\tconst editorsPadding = edit.modifiedLineRange.length <= edit.originalLineRange.length ? PADDING * 3 + endOfEditorPadding : 60 + endOfEditorPadding * 2;\n\n\t\treturn maxOriginalContent + maxModifiedContent + editorsPadding < editorWidth - editorContentLeft - editorVerticalScrollBar;\n\t}\n\n\tprivate readonly _editorObs = observableCodeEditor(this._editor);\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\tprivate readonly _edit: IObservable<InlineEditWithChanges | undefined>,\n\t\tprivate readonly _previewTextModel: ITextModel,\n\t\tprivate readonly _uiState: IObservable<{\n\t\t\tedit: InlineEditWithChanges;\n\t\t\tnewTextLineCount: number;\n\t\t\toriginalDisplayRange: LineRange;\n\t\t} | undefined>,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) {\n\t\tsuper();\n\n\t\tthis._register(this._editorObs.createOverlayWidget({\n\t\t\tdomNode: this._overflowView.element,\n\t\t\tposition: constObservable({\n\t\t\t\tpreference: {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0\n\t\t\t\t}\n\t\t\t}),\n\t\t\tallowEditorOverflow: true,\n\t\t\tminContentWidthInPx: constObservable(0),\n\t\t}));\n\n\t\tthis._register(this._editorObs.createOverlayWidget({\n\t\t\tdomNode: this._nonOverflowView.element,\n\t\t\tposition: constObservable(null),\n\t\t\tallowEditorOverflow: false,\n\t\t\tminContentWidthInPx: derived(reader => {\n\t\t\t\tconst x = this._previewEditorLayoutInfo.read(reader)?.maxContentWidth;\n\t\t\t\tif (x === undefined) { return 0; }\n\t\t\t\treturn x;\n\t\t\t}),\n\t\t}));\n\n\t\tthis.previewEditor.setModel(this._previewTextModel);\n\n\t\tthis._register(autorun(reader => {\n\n\t\t\tconst layoutInfo = this._previewEditorLayoutInfo.read(reader);\n\t\t\tif (!layoutInfo) {\n\t\t\t\t//this._elements.svg.replaceChildren();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst editorTopLeft = layoutInfo.editStart1.deltaY(layoutInfo.padding);\n\t\t\tconst editorBottomLeft = layoutInfo.editStart2.deltaY(-layoutInfo.padding);\n\n\t\t\tthis.previewEditor.layout({ height: editorBottomLeft.y - editorTopLeft.y, width: layoutInfo.previewEditorWidth + 15 /* Make sure editor does not scroll horizontally */ });\n\t\t\tthis._editorContainer.element.style.top = `${editorTopLeft.y}px`;\n\t\t\tthis._editorContainer.element.style.left = `${editorTopLeft.x}px`;\n\t\t\tthis._editorContainer.element.style.width = `${layoutInfo.previewEditorWidth}px`; // Set width to clip view zone\n\t\t}));\n\n\t\t/*const toolbarDropdownVisible = observableFromEvent(this, this._toolbar.onDidChangeDropdownVisibility, (e) => e ?? false);\n\n\t\tthis._register(autorun(reader => {\n\t\t\tthis._elements.root.classList.toggle('toolbarDropdownVisible', toolbarDropdownVisible.read(reader));\n\t\t}));*/\n\n\t\tthis._register(autorun(reader => {\n\t\t\tconst layoutInfo = this._previewEditorLayoutInfo.read(reader);\n\t\t\tif (!layoutInfo) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._previewEditorObs.editor.setScrollLeft(layoutInfo.desiredPreviewEditorScrollLeft);\n\t\t}));\n\t}\n\n\tprivate readonly _display = derived(this, reader => !!this._uiState.read(reader) ? 'block' : 'none');\n\n\tprivate readonly previewRef = n.ref<HTMLDivElement>();\n\tprivate readonly toolbarRef = n.ref<HTMLDivElement>();\n\n\tprivate readonly _editorContainer = n.div({\n\t\tclass: ['editorContainer', this._editorObs.getOption(EditorOption.inlineSuggest).map(v => !v.edits.useGutterIndicator && 'showHover')],\n\t\tstyle: { position: 'absolute', overflow: 'hidden' },\n\t}, [\n\t\tn.div({ class: 'preview', style: {}, ref: this.previewRef }),\n\t\tn.div({ class: 'toolbar', style: {}, ref: this.toolbarRef }),\n\t]).keepUpdated(this._store);\n\n\tpublic readonly isHovered = this._editorContainer.getIsHovered(this._store);\n\n\tprotected readonly _toolbar = this._register(this._instantiationService.createInstance(CustomizedMenuWorkbenchToolBar, this.toolbarRef.element, MenuId.InlineEditsActions, {\n\t\tmenuOptions: { renderShortTitle: true },\n\t\ttoolbarOptions: {\n\t\t\tprimaryGroup: g => g.startsWith('primary'),\n\t\t},\n\t\tactionViewItemProvider: (action, options) => {\n\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\treturn this._instantiationService.createInstance(StatusBarViewItem, action, undefined);\n\t\t\t}\n\t\t\tif (action.class === undefined) {\n\t\t\t\treturn this._instantiationService.createInstance(ActionViewItem, {}, action, { icon: false });\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\t\ttelemetrySource: 'inlineEditsToolbar'\n\t}));\n\n\tprivate readonly _extraCommands = derivedOpts<readonly Command[]>({ owner: this, equalsFn: structuralEquals }, reader => {\n\t\treturn this._uiState.read(reader)?.edit.commands ?? [];\n\t});\n\n\tprotected readonly _updateToolbarAutorun = this._register(autorun(reader => {\n\t\t/** @description extra commands */\n\t\tconst extraCommands = this._extraCommands.read(reader);\n\t\tconst primaryExtraActions: IAction[] = [];\n\t\tconst secondaryExtraActions: IAction[] = [];\n\t\tfor (const c of extraCommands) {\n\t\t\tconst action: IAction = {\n\t\t\t\tclass: undefined,\n\t\t\t\tid: c.id,\n\t\t\t\tenabled: true,\n\t\t\t\ttooltip: c.tooltip || '',\n\t\t\t\tlabel: c.title,\n\t\t\t\trun: (event) => {\n\t\t\t\t\treturn this._commandService.executeCommand(c.id, ...(c.arguments ?? []));\n\t\t\t\t},\n\t\t\t};\n\t\t\t// TODO this is a hack just to make the feedback action more visible.\n\t\t\tif (c.title.toLowerCase().indexOf('feedback') !== -1) {\n\t\t\t\tprimaryExtraActions.push(action);\n\t\t\t} else {\n\t\t\t\tsecondaryExtraActions.push(action);\n\t\t\t}\n\t\t}\n\n\t\tthis._toolbar.setAdditionalPrimaryActions(primaryExtraActions);\n\t\tthis._toolbar.setAdditionalSecondaryActions(secondaryExtraActions);\n\t}));\n\n\tpublic readonly previewEditor = this._register(this._instantiationService.createInstance(\n\t\tEmbeddedCodeEditorWidget,\n\t\tthis.previewRef.element,\n\t\t{\n\t\t\tglyphMargin: false,\n\t\t\tlineNumbers: 'off',\n\t\t\tminimap: { enabled: false },\n\t\t\tguides: {\n\t\t\t\tindentation: false,\n\t\t\t\tbracketPairs: false,\n\t\t\t\tbracketPairsHorizontal: false,\n\t\t\t\thighlightActiveIndentation: false,\n\t\t\t},\n\t\t\trulers: [],\n\t\t\tpadding: { top: 0, bottom: 0 },\n\t\t\tfolding: false,\n\t\t\tselectOnLineNumbers: false,\n\t\t\tselectionHighlight: false,\n\t\t\tcolumnSelection: false,\n\t\t\toverviewRulerBorder: false,\n\t\t\toverviewRulerLanes: 0,\n\t\t\tlineDecorationsWidth: 0,\n\t\t\tlineNumbersMinChars: 0,\n\t\t\trevealHorizontalRightPadding: 0,\n\t\t\tbracketPairColorization: { enabled: true, independentColorPoolPerBracketType: false },\n\t\t\tscrollBeyondLastLine: false,\n\t\t\tscrollbar: {\n\t\t\t\tvertical: 'hidden',\n\t\t\t\thorizontal: 'hidden',\n\t\t\t\thandleMouseWheel: false,\n\t\t\t},\n\t\t\treadOnly: true,\n\t\t\twordWrap: 'off',\n\t\t\twordWrapOverride1: 'off',\n\t\t\twordWrapOverride2: 'off',\n\t\t},\n\t\t{\n\t\t\tcontextKeyValues: {\n\t\t\t\t[InlineCompletionContextKeys.inInlineEditsPreviewEditor.key]: true,\n\t\t\t},\n\t\t\tcontributions: [],\n\t\t},\n\t\tthis._editor\n\t));\n\n\tprivate readonly _previewEditorObs = observableCodeEditor(this.previewEditor);\n\n\tprivate _activeViewZones: string[] = [];\n\tprivate readonly _updatePreviewEditor = derived(reader => {\n\t\tthis._editorContainer.readEffect(reader);\n\t\tthis._previewEditorObs.model.read(reader); // update when the model is set\n\n\t\t// Setting this here explicitly to make sure that the preview editor is\n\t\t// visible when needed, we're also checking that these fields are defined\n\t\t// because of the auto run initial\n\t\t// Before removing these, verify with a non-monospace font family\n\t\tthis._display.read(reader);\n\t\tif (this._overflowView) {\n\t\t\tthis._overflowView.element.style.display = this._display.read(reader);\n\t\t}\n\t\tif (this._nonOverflowView) {\n\t\t\tthis._nonOverflowView.element.style.display = this._display.read(reader);\n\t\t}\n\n\t\tconst uiState = this._uiState.read(reader);\n\t\tif (!uiState) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst range = uiState.edit.originalLineRange;\n\n\t\tconst hiddenAreas: Range[] = [];\n\t\tif (range.startLineNumber > 1) {\n\t\t\thiddenAreas.push(new Range(1, 1, range.startLineNumber - 1, 1));\n\t\t}\n\t\tif (range.startLineNumber + uiState.newTextLineCount < this._previewTextModel.getLineCount() + 1) {\n\t\t\thiddenAreas.push(new Range(range.startLineNumber + uiState.newTextLineCount, 1, this._previewTextModel.getLineCount() + 1, 1));\n\t\t}\n\n\t\tthis.previewEditor.setHiddenAreas(hiddenAreas, undefined, true);\n\n\t\t// TODO: is this the proper way to handle viewzones?\n\t\tconst previousViewZones = [...this._activeViewZones];\n\t\tthis._activeViewZones = [];\n\n\t\tconst reducedLinesCount = (range.endLineNumberExclusive - range.startLineNumber) - uiState.newTextLineCount;\n\t\tthis.previewEditor.changeViewZones((changeAccessor) => {\n\t\t\tpreviousViewZones.forEach(id => changeAccessor.removeZone(id));\n\n\t\t\tif (reducedLinesCount > 0) {\n\t\t\t\tthis._activeViewZones.push(changeAccessor.addZone({\n\t\t\t\t\tafterLineNumber: range.startLineNumber + uiState.newTextLineCount - 1,\n\t\t\t\t\theightInLines: reducedLinesCount,\n\t\t\t\t\tshowInHiddenAreas: true,\n\t\t\t\t\tdomNode: $('div.diagonal-fill.inline-edits-view-zone'),\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\n\t}).recomputeInitiallyAndOnChange(this._store);\n\n\tprivate readonly _previewEditorWidth = derived(this, reader => {\n\t\tconst edit = this._edit.read(reader);\n\t\tif (!edit) { return 0; }\n\t\tthis._updatePreviewEditor.read(reader);\n\n\t\treturn maxContentWidthInRange(this._previewEditorObs, edit.modifiedLineRange, reader);\n\t});\n\n\tprivate readonly _cursorPosIfTouchesEdit = derived(this, reader => {\n\t\tconst cursorPos = this._editorObs.cursorPosition.read(reader);\n\t\tconst edit = this._edit.read(reader);\n\t\tif (!edit || !cursorPos) { return undefined; }\n\t\treturn edit.modifiedLineRange.contains(cursorPos.lineNumber) ? cursorPos : undefined;\n\t});\n\n\tprivate readonly _originalStartPosition = derived(this, (reader) => {\n\t\tconst inlineEdit = this._edit.read(reader);\n\t\treturn inlineEdit ? new Position(inlineEdit.originalLineRange.startLineNumber, 1) : null;\n\t});\n\n\tprivate readonly _originalEndPosition = derived(this, (reader) => {\n\t\tconst inlineEdit = this._edit.read(reader);\n\t\treturn inlineEdit ? new Position(inlineEdit.originalLineRange.endLineNumberExclusive, 1) : null;\n\t});\n\n\tprivate readonly _originalVerticalStartPosition = this._editorObs.observePosition(this._originalStartPosition, this._store).map(p => p?.y);\n\tprivate readonly _originalVerticalEndPosition = this._editorObs.observePosition(this._originalEndPosition, this._store).map(p => p?.y);\n\n\tprivate readonly _originalDisplayRange = this._uiState.map(s => s?.originalDisplayRange);\n\tprivate readonly _editorMaxContentWidthInRange = derived(this, reader => {\n\t\tconst originalDisplayRange = this._originalDisplayRange.read(reader);\n\t\tif (!originalDisplayRange) {\n\t\t\treturn constObservable(0);\n\t\t}\n\t\tthis._editorObs.versionId.read(reader);\n\n\t\t// Take the max value that we observed.\n\t\t// Reset when either the edit changes or the editor text version.\n\t\treturn derivedObservableWithCache<number>(this, (reader, lastValue) => {\n\t\t\tconst maxWidth = maxContentWidthInRange(this._editorObs, originalDisplayRange, reader);\n\t\t\treturn Math.max(maxWidth, lastValue ?? 0);\n\t\t});\n\t}).map((v, r) => v.read(r));\n\n\t/**\n\t * ![test](./layout.dio.svg)\n\t*/\n\tprivate readonly _previewEditorLayoutInfo = derived(this, (reader) => {\n\t\tconst inlineEdit = this._edit.read(reader);\n\t\tif (!inlineEdit) {\n\t\t\treturn null;\n\t\t}\n\t\tconst state = this._uiState.read(reader);\n\t\tif (!state) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst range = inlineEdit.originalLineRange;\n\n\t\tconst horizontalScrollOffset = this._editorObs.scrollLeft.read(reader);\n\n\t\tconst editorContentMaxWidthInRange = this._editorMaxContentWidthInRange.read(reader);\n\t\tconst editorLayout = this._editorObs.layoutInfo.read(reader);\n\t\tconst previewContentWidth = this._previewEditorWidth.read(reader);\n\t\tconst editorContentAreaWidth = editorLayout.contentWidth - editorLayout.verticalScrollbarWidth;\n\t\tconst editorBoundingClientRect = this._editor.getContainerDomNode().getBoundingClientRect();\n\t\tconst clientContentAreaRight = editorLayout.contentLeft + editorLayout.contentWidth + editorBoundingClientRect.left;\n\t\tconst remainingWidthRightOfContent = getWindow(this._editor.getContainerDomNode()).innerWidth - clientContentAreaRight;\n\t\tconst remainingWidthRightOfEditor = getWindow(this._editor.getContainerDomNode()).innerWidth - editorBoundingClientRect.right;\n\t\tconst desiredMinimumWidth = Math.min(editorLayout.contentWidth * 0.3, previewContentWidth, 100);\n\t\tconst IN_EDITOR_DISPLACEMENT = 0;\n\t\tconst maximumAvailableWidth = IN_EDITOR_DISPLACEMENT + remainingWidthRightOfContent;\n\n\t\tconst cursorPos = this._cursorPosIfTouchesEdit.read(reader);\n\n\t\tconst maxPreviewEditorLeft = Math.max(\n\t\t\t// We're starting from the content area right and moving it left by IN_EDITOR_DISPLACEMENT and also by an amount to ensure some minimum desired width\n\t\t\teditorContentAreaWidth + horizontalScrollOffset - IN_EDITOR_DISPLACEMENT - Math.max(0, desiredMinimumWidth - maximumAvailableWidth),\n\t\t\t// But we don't want that the moving left ends up covering the cursor, so this will push it to the right again\n\t\t\tMath.min(\n\t\t\t\tcursorPos ? getOffsetForPos(this._editorObs, cursorPos, reader) + 50 : 0,\n\t\t\t\teditorContentAreaWidth + horizontalScrollOffset\n\t\t\t)\n\t\t);\n\t\tconst previewEditorLeftInTextArea = Math.min(editorContentMaxWidthInRange + 20, maxPreviewEditorLeft);\n\n\t\tconst maxContentWidth = editorContentMaxWidthInRange + 20 + previewContentWidth + 70;\n\n\t\tconst dist = maxPreviewEditorLeft - previewEditorLeftInTextArea;\n\n\t\tlet desiredPreviewEditorScrollLeft;\n\t\tlet left;\n\t\tif (previewEditorLeftInTextArea > horizontalScrollOffset) {\n\t\t\tdesiredPreviewEditorScrollLeft = 0;\n\t\t\tleft = editorLayout.contentLeft + previewEditorLeftInTextArea - horizontalScrollOffset;\n\t\t} else {\n\t\t\tdesiredPreviewEditorScrollLeft = horizontalScrollOffset - previewEditorLeftInTextArea;\n\t\t\tleft = editorLayout.contentLeft;\n\t\t}\n\n\t\tconst selectionTop = this._originalVerticalStartPosition.read(reader) ?? this._editor.getTopForLineNumber(range.startLineNumber) - this._editorObs.scrollTop.read(reader);\n\t\tconst selectionBottom = this._originalVerticalEndPosition.read(reader) ?? this._editor.getBottomForLineNumber(range.endLineNumberExclusive - 1) - this._editorObs.scrollTop.read(reader);\n\n\t\t// TODO: const { prefixLeftOffset } = getPrefixTrim(inlineEdit.edit.edits.map(e => e.range), inlineEdit.originalLineRange, [], this._editor);\n\t\tconst codeLeft = editorLayout.contentLeft;\n\n\t\tlet code1 = new Point(left, selectionTop);\n\t\tlet codeStart1 = new Point(codeLeft, selectionTop);\n\t\tlet code2 = new Point(left, selectionBottom);\n\t\tlet codeStart2 = new Point(codeLeft, selectionBottom);\n\n\t\tconst editHeight = this._editor.getOption(EditorOption.lineHeight) * inlineEdit.modifiedLineRange.length;\n\t\tconst codeHeight = selectionBottom - selectionTop;\n\t\tconst previewEditorHeight = Math.max(codeHeight, editHeight);\n\n\t\tconst editIsSameHeight = codeHeight === previewEditorHeight;\n\t\tconst codeEditDistRange = editIsSameHeight\n\t\t\t? new OffsetRange(4, 61)\n\t\t\t: new OffsetRange(60, 61);\n\n\t\tconst clipped = dist === 0;\n\n\t\tconst codeEditDist = editIsSameHeight ? PADDING : codeEditDistRange.clip(dist); // TODO: Is there a better way to specify the distance?\n\n\t\tconst previewEditorWidth = Math.min(previewContentWidth, remainingWidthRightOfEditor + editorLayout.width - editorLayout.contentLeft - codeEditDist);\n\n\t\tlet editStart1 = new Point(left + codeEditDist, selectionTop);\n\t\tlet edit1 = editStart1.deltaX(previewEditorWidth);\n\t\tlet editStart2 = new Point(left + codeEditDist, selectionTop + previewEditorHeight);\n\t\tlet edit2 = editStart2.deltaX(previewEditorWidth);\n\n\t\t// padding\n\t\tconst isInsertion = codeHeight === 0;\n\t\tif (!isInsertion) {\n\t\t\tcodeStart1 = codeStart1.deltaY(-PADDING).deltaX(-PADDING);\n\t\t\tcode1 = code1.deltaY(-PADDING);\n\t\t\tcodeStart2 = codeStart2.deltaY(PADDING).deltaX(-PADDING);\n\t\t\tcode2 = code2.deltaY(PADDING);\n\n\t\t\teditStart1 = editStart1.deltaY(-PADDING);\n\t\t\tedit1 = edit1.deltaY(-PADDING).deltaX(PADDING);\n\t\t\teditStart2 = editStart2.deltaY(PADDING);\n\t\t\tedit2 = edit2.deltaY(PADDING).deltaX(PADDING);\n\t\t} else {\n\t\t\t// Align top of edit with insertion line\n\t\t\tedit1 = edit1.deltaX(PADDING);\n\t\t\teditStart2 = editStart2.deltaY(2 * PADDING);\n\t\t\tedit2 = edit2.deltaY(2 * PADDING).deltaX(PADDING);\n\t\t}\n\n\t\treturn {\n\t\t\tcode1,\n\t\t\tcodeStart1,\n\t\t\tcode2,\n\t\t\tcodeStart2,\n\t\t\tcodeHeight,\n\t\t\tcodeScrollLeft: horizontalScrollOffset,\n\n\t\t\teditStart1,\n\t\t\tedit1,\n\t\t\teditStart2,\n\t\t\tedit2,\n\t\t\teditHeight,\n\t\t\tmaxContentWidth,\n\t\t\tshouldShowShadow: clipped,\n\t\t\tdesiredPreviewEditorScrollLeft,\n\t\t\tpreviewEditorWidth,\n\t\t\tpadding: PADDING,\n\t\t\tborderRadius: PADDING\n\t\t};\n\t});\n\n\tprivate _stickyScrollController = StickyScrollController.get(this._editorObs.editor);\n\tprivate readonly _stickyScrollHeight = this._stickyScrollController ? observableFromEvent(this._stickyScrollController.onDidChangeStickyScrollHeight, () => this._stickyScrollController!.stickyScrollWidgetHeight) : constObservable(0);\n\n\tprivate readonly _shouldOverflow = derived(reader => {\n\t\tif (!ENABLE_OVERFLOW) {\n\t\t\treturn false;\n\t\t}\n\t\tconst range = this._edit.read(reader)?.originalLineRange;\n\t\tif (!range) {\n\t\t\treturn false;\n\t\t}\n\t\tconst stickyScrollHeight = this._stickyScrollHeight.read(reader);\n\t\tconst top = this._editor.getTopForLineNumber(range.startLineNumber) - this._editorObs.scrollTop.read(reader);\n\t\tif (top <= stickyScrollHeight) {\n\t\t\treturn false;\n\t\t}\n\t\tconst bottom = this._editor.getTopForLineNumber(range.endLineNumberExclusive) - this._editorObs.scrollTop.read(reader);\n\t\tif (bottom >= this._editorObs.layoutInfo.read(reader).height) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\n\tprivate readonly _extendedModifiedPath = derived(reader => {\n\t\tconst layoutInfo = this._previewEditorLayoutInfo.read(reader);\n\t\tif (!layoutInfo) { return undefined; }\n\n\t\tconst path = new PathBuilder()\n\t\t\t.moveTo(layoutInfo.code2)\n\t\t\t.lineTo(layoutInfo.code1)\n\t\t\t.lineTo(layoutInfo.editStart1)\n\t\t\t.lineTo(layoutInfo.edit1.deltaX(-layoutInfo.borderRadius))\n\t\t\t.curveTo(layoutInfo.edit1, layoutInfo.edit1.deltaY(layoutInfo.borderRadius))\n\t\t\t.lineTo(layoutInfo.edit2.deltaY(-layoutInfo.borderRadius))\n\t\t\t.curveTo(layoutInfo.edit2, layoutInfo.edit2.deltaX(-layoutInfo.borderRadius))\n\t\t\t.lineTo(layoutInfo.editStart2);\n\n\t\tif (layoutInfo.editStart2.y !== layoutInfo.code2.y) {\n\t\t\tpath.curveTo2(layoutInfo.editStart2.deltaX(-20), layoutInfo.code2.deltaX(20), layoutInfo.code2.deltaX(0));\n\t\t}\n\t\tpath.lineTo(layoutInfo.code2);\n\t\treturn path.build();\n\t});\n\n\tprivate readonly _originalBackgroundColor = observableFromEvent(this, this._themeService.onDidColorThemeChange, () => {\n\t\treturn this._themeService.getColorTheme().getColor(originalBackgroundColor) ?? Color.transparent;\n\t});\n\n\tprivate readonly _backgroundSvg = n.svg({\n\t\ttransform: 'translate(-0.5 -0.5)',\n\t\tstyle: { overflow: 'visible', pointerEvents: 'none', position: 'absolute' },\n\t}, [\n\t\tn.svgElem('path', {\n\t\t\tclass: 'rightOfModifiedBackgroundCoverUp',\n\t\t\td: derived(reader => {\n\t\t\t\tconst layoutInfo = this._previewEditorLayoutInfo.read(reader);\n\t\t\t\tif (!layoutInfo) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tconst originalBackgroundColor = this._originalBackgroundColor.read(reader);\n\t\t\t\tif (originalBackgroundColor.isTransparent()) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\treturn new PathBuilder()\n\t\t\t\t\t.moveTo(layoutInfo.code1)\n\t\t\t\t\t.lineTo(layoutInfo.code1.deltaX(1000))\n\t\t\t\t\t.lineTo(layoutInfo.code2.deltaX(1000))\n\t\t\t\t\t.lineTo(layoutInfo.code2)\n\t\t\t\t\t.build();\n\t\t\t}),\n\t\t\tstyle: {\n\t\t\t\tfill: 'var(--vscode-editor-background, transparent)',\n\t\t\t}\n\t\t}),\n\t]).keepUpdated(this._store);\n\n\tprivate readonly _modifiedBackgroundSvg = n.svg({\n\t\ttransform: 'translate(-0.5 -0.5)',\n\t\tstyle: { overflow: 'visible', pointerEvents: 'none', position: 'absolute' },\n\t}, [\n\t\tn.svgElem('path', {\n\t\t\tclass: 'extendedModifiedBackgroundCoverUp',\n\t\t\td: this._extendedModifiedPath,\n\t\t\tstyle: {\n\t\t\t\tfill: 'var(--vscode-editor-background, transparent)',\n\t\t\t\tstrokeWidth: '0px',\n\t\t\t}\n\t\t}),\n\t]).keepUpdated(this._store);\n\n\tprivate readonly _foregroundBackgroundSvg = n.svg({\n\t\ttransform: 'translate(-0.5 -0.5)',\n\t\tstyle: { overflow: 'visible', pointerEvents: 'none', position: 'absolute' },\n\t}, [\n\t\tn.svgElem('path', {\n\t\t\tclass: 'extendedModifiedBackgroundCoverUp',\n\t\t\td: this._extendedModifiedPath,\n\t\t\tstyle: {\n\t\t\t\tfill: 'var(--vscode-inlineEdit-modifiedChangedLineBackground, transparent)',\n\t\t\t\tstrokeWidth: '1px',\n\t\t\t}\n\t\t}),\n\t]).keepUpdated(this._store);\n\n\tprivate readonly _middleBorderWithShadow = n.div({\n\t\tclass: ['middleBorderWithShadow'],\n\t\tstyle: {\n\t\t\tposition: 'absolute',\n\t\t\tdisplay: this._previewEditorLayoutInfo.map(i => i?.shouldShowShadow ? 'block' : 'none'),\n\t\t\twidth: '6px',\n\t\t\tboxShadow: 'var(--vscode-scrollbar-shadow) -6px 0 6px -6px inset',\n\t\t\tleft: this._previewEditorLayoutInfo.map(i => i ? i.code1.x - 6 : 0),\n\t\t\ttop: this._previewEditorLayoutInfo.map(i => i ? i.code1.y : 0),\n\t\t\theight: this._previewEditorLayoutInfo.map(i => i ? i.code2.y - i.code1.y : 0),\n\t\t},\n\t}, []).keepUpdated(this._store);\n\n\tprivate readonly _foregroundSvg = n.svg({\n\t\ttransform: 'translate(-0.5 -0.5)',\n\t\tstyle: { overflow: 'visible', pointerEvents: 'none', position: 'absolute' },\n\t}, derived(reader => {\n\t\tconst layoutInfoObs = mapOutFalsy(this._previewEditorLayoutInfo).read(reader);\n\t\tif (!layoutInfoObs) { return undefined; }\n\n\t\treturn [\n\t\t\tn.svgElem('path', {\n\t\t\t\tclass: 'originalOverlay',\n\t\t\t\td: layoutInfoObs.map(layoutInfo => createRectangle(\n\t\t\t\t\t{ topLeft: layoutInfo.codeStart1, width: layoutInfo.code1.x - layoutInfo.codeStart1.x, height: layoutInfo.code2.y - layoutInfo.code1.y },\n\t\t\t\t\t0,\n\t\t\t\t\t{ topLeft: layoutInfo.borderRadius, bottomLeft: layoutInfo.borderRadius, topRight: 0, bottomRight: 0 },\n\t\t\t\t\t{ hideRight: true, hideLeft: layoutInfo.codeScrollLeft !== 0 }\n\t\t\t\t)),\n\t\t\t\tstyle: {\n\t\t\t\t\tfill: 'var(--vscode-inlineEdit-originalBackground, transparent)',\n\t\t\t\t\tstroke: 'var(--vscode-inlineEdit-originalBorder)',\n\t\t\t\t\tstrokeWidth: '1px',\n\t\t\t\t}\n\t\t\t}),\n\n\t\t\tn.svgElem('path', {\n\t\t\t\tclass: 'extendedModifiedOverlay',\n\t\t\t\td: this._extendedModifiedPath,\n\t\t\t\tstyle: {\n\t\t\t\t\tfill: 'var(--vscode-inlineEdit-modifiedBackground, transparent)',\n\t\t\t\t\tstroke: 'var(--vscode-inlineEdit-modifiedBorder)',\n\t\t\t\t\tstrokeWidth: '1px',\n\t\t\t\t}\n\t\t\t}),\n\t\t\tn.svgElem('path', {\n\t\t\t\tclass: 'middleBorder',\n\t\t\t\td: layoutInfoObs.map(layoutInfo => new PathBuilder()\n\t\t\t\t\t.moveTo(layoutInfo.code1)\n\t\t\t\t\t.lineTo(layoutInfo.code2)\n\t\t\t\t\t.build()\n\t\t\t\t),\n\t\t\t\tstyle: {\n\t\t\t\t\tdisplay: layoutInfoObs.map(i => i.shouldShowShadow ? 'none' : 'block'),\n\t\t\t\t\tstroke: 'var(--vscode-inlineEdit-modifiedBorder)',\n\t\t\t\t\tstrokeWidth: '1px'\n\t\t\t\t}\n\t\t\t})\n\t\t];\n\t})).keepUpdated(this._store);\n\n\tprivate readonly _nonOverflowView = n.div({\n\t\tclass: 'inline-edits-view',\n\t\tstyle: {\n\t\t\tposition: 'absolute',\n\t\t\toverflow: 'visible',\n\t\t\ttop: '0px',\n\t\t\tleft: '0px',\n\t\t\tzIndex: '0',\n\t\t\tdisplay: this._display,\n\t\t},\n\t}, [\n\t\tthis._backgroundSvg,\n\t\tderived(this, reader => this._shouldOverflow.read(reader) ? [] : [this._modifiedBackgroundSvg, this._foregroundBackgroundSvg, this._editorContainer, this._foregroundSvg, this._middleBorderWithShadow]),\n\t]).keepUpdated(this._store);\n\n\tprivate readonly _overflowView = n.div({\n\t\tclass: 'inline-edits-view',\n\t\tstyle: {\n\t\t\toverflow: 'visible',\n\t\t\tzIndex: '20',\n\t\t\tdisplay: this._display,\n\t\t},\n\t}, [\n\t\tderived(this, reader => this._shouldOverflow.read(reader) ? [this._modifiedBackgroundSvg, this._foregroundBackgroundSvg, this._editorContainer, this._foregroundSvg, this._middleBorderWithShadow] : []),\n\t]).keepUpdated(this._store);\n}\n"]}