{"version":3,"sources":["vs/editor/contrib/inlineCompletions/browser/view/inlineEdits/indicatorView.ts"],"names":[],"mappings":"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","file":"indicatorView.js","sourceRoot":"file:///Users/kw/github/monaco-editor-core/out-editor-esm","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { addDisposableListener, h } from '../../../../../../base/browser/dom.js';\nimport { renderIcon } from '../../../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { Codicon } from '../../../../../../base/common/codicons.js';\nimport { Disposable } from '../../../../../../base/common/lifecycle.js';\nimport { IObservable, constObservable, autorun } from '../../../../../../base/common/observable.js';\nimport { buttonBackground, buttonForeground, buttonSeparator } from '../../../../../../platform/theme/common/colorRegistry.js';\nimport { registerColor } from '../../../../../../platform/theme/common/colorUtils.js';\nimport { ObservableCodeEditor } from '../../../../../browser/observableCodeEditor.js';\nimport { OffsetRange } from '../../../../../common/core/offsetRange.js';\nimport { InlineCompletionsModel } from '../../model/inlineCompletionsModel.js';\nimport { localize } from '../../../../../../nls.js';\n\nexport interface IInlineEditsIndicatorState {\n\teditTop: number;\n\tshowAlways: boolean;\n}\nexport const inlineEditIndicatorForeground = registerColor('inlineEdit.indicator.foreground', buttonForeground, localize('inlineEdit.indicator.foreground', 'Foreground color for the inline edit indicator.'));\nexport const inlineEditIndicatorBackground = registerColor('inlineEdit.indicator.background', buttonBackground, localize('inlineEdit.indicator.background', 'Background color for the inline edit indicator.'));\nexport const inlineEditIndicatorBorder = registerColor('inlineEdit.indicator.border', buttonSeparator, localize('inlineEdit.indicator.border', 'Border color for the inline edit indicator.'));\n\nexport class InlineEditsIndicator extends Disposable {\n\tprivate readonly _indicator = h('div.inline-edits-view-indicator', {\n\t\tstyle: {\n\t\t\tposition: 'absolute',\n\t\t\toverflow: 'visible',\n\t\t\tcursor: 'pointer',\n\t\t},\n\t}, [\n\t\th('div.icon', {}, [\n\t\t\trenderIcon(Codicon.arrowLeft),\n\t\t]),\n\t\th('div.label', {}, [\n\t\t\t' inline edit'\n\t\t])\n\t]);\n\n\tconstructor(\n\t\tprivate readonly _editorObs: ObservableCodeEditor,\n\t\tprivate readonly _state: IObservable<IInlineEditsIndicatorState | undefined>,\n\t\tprivate readonly _model: IObservable<InlineCompletionsModel | undefined>,\n\t) {\n\t\tsuper();\n\n\t\tthis._register(addDisposableListener(this._indicator.root, 'click', () => {\n\t\t\tthis._model.get()?.jump();\n\t\t}));\n\n\t\tthis._register(this._editorObs.createOverlayWidget({\n\t\t\tdomNode: this._indicator.root,\n\t\t\tposition: constObservable(null),\n\t\t\tallowEditorOverflow: false,\n\t\t\tminContentWidthInPx: constObservable(0),\n\t\t}));\n\n\t\tthis._register(autorun(reader => {\n\t\t\tconst state = this._state.read(reader);\n\t\t\tif (!state) {\n\t\t\t\tthis._indicator.root.style.visibility = 'hidden';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._indicator.root.style.visibility = '';\n\t\t\tconst i = this._editorObs.layoutInfo.read(reader);\n\n\t\t\tconst range = new OffsetRange(0, i.height - 30);\n\n\t\t\tconst topEdit = state.editTop;\n\t\t\tthis._indicator.root.classList.toggle('top', topEdit < range.start);\n\t\t\tthis._indicator.root.classList.toggle('bottom', topEdit > range.endExclusive);\n\t\t\tconst showAnyway = state.showAlways;\n\t\t\tthis._indicator.root.classList.toggle('visible', showAnyway);\n\t\t\tthis._indicator.root.classList.toggle('contained', range.contains(topEdit));\n\n\t\t\tthis._indicator.root.style.top = `${range.clip(topEdit)}px`;\n\t\t\tthis._indicator.root.style.right = `${i.minimap.minimapWidth + i.verticalScrollbarWidth}px`;\n\t\t}));\n\t}\n}\n"]}